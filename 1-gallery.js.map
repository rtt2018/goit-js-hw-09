{"version":3,"file":"1-gallery.js","sources":["../src/js/1-gallery.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport '../css/1-gallery.css';\n\nconst images = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst galleryList = document.querySelector('.gallery');\n\n// Тут нижче не розберешся :))))))\nconst elementsArray = images.map(element => {\n  const addListItem = document.createElement('li');\n  addListItem.classList.add('gallery-item');\n  const imgLink = document.createElement('a');\n  imgLink.classList.add('gallery-link');\n  imgLink.href = element.original;\n  const addImage = document.createElement('img');\n  addImage.alt = element.description;\n  addImage.src = element.preview;\n  addImage.width = '360';\n  addImage.height = '200';\n  addImage.classList.add('gallery-image');\n  imgLink.appendChild(addImage);\n  addListItem.appendChild(imgLink);\n  return addListItem;\n});\n\ngalleryList.append(...elementsArray);\n\n// А тут взагалі морок :-))\nlet gallery = new SimpleLightbox('.gallery a');\ngallery.on('show.simplelightbox', function () {\n  let attempts = 0;\n  const maxAttempts = 20;\n  const interval = 10;\n\n  const checkOverlay = setInterval(() => {\n    let overlay = document.querySelector('.sl-overlay');\n    attempts++;\n\n    if (overlay) {\n      overlay.classList.add('modal-overlay');\n      clearInterval(checkOverlay);\n    } else if (attempts >= maxAttempts) {\n      console.log('Оверлей не знайдено!');\n      clearInterval(checkOverlay);\n    }\n\n    const currentImg = gallery.currentImage;\n\n    if (currentImg) {\n      let modalContent = document.querySelector('.sl-image');\n      if (modalContent) {\n        const paragraph = document.createElement('p');\n        paragraph.classList.add('modal-header');\n        paragraph.textContent =\n          gallery.elements[gallery.currentImageIndex].childNodes[0].alt; // Спробуй, вгадай, що це :))))\n        modalContent.appendChild(paragraph);\n        const checkImgOpasity = setInterval(() => {\n          if (currentImg.style.opacity === '1') {\n            clearInterval(checkImgOpasity);\n            setTimeout(() => {\n              paragraph.style.opacity = 1;\n            }, 250);\n          }\n        }, 10);\n      }\n    }\n  }, interval);\n});\n\ngallery.on('changed.simplelightbox', function () {\n  const imgFrame = document.querySelector('.sl-image');\n  const currentImg = gallery.currentImage;\n  if (currentImg) {\n    const paragraph = document.querySelector('.modal-header');\n    paragraph.style.opacity = 0;\n\n    paragraph.textContent =\n      gallery.elements[gallery.currentImageIndex].childNodes[0].alt;\n    const checkImgOpasity = setInterval(() => {\n      if (imgFrame && imgFrame.style.opacity === '1') {\n        clearInterval(checkImgOpasity);\n        setTimeout(() => {\n          paragraph.style.opacity = 1;\n        }, 250);\n      }\n    }, 10);\n  }\n});\n\ngallery.on('error.simplelightbox', function (e) {\n  console.log(e);\n});\n"],"names":["images","galleryList","elementsArray","element","addListItem","imgLink","addImage","gallery","SimpleLightbox","attempts","maxAttempts","checkOverlay","overlay","currentImg","modalContent","paragraph","checkImgOpasity","imgFrame"],"mappings":"wIAIA,MAAMA,EAAS,CACb,CACE,QACE,yEACF,SACE,yEACF,YAAa,iBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,2BACd,EACD,CACE,QACE,wEACF,SACE,wEACF,YAAa,mBACd,EACD,CACE,QACE,0EACF,SACE,0EACF,YAAa,eACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,kBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,uBACd,EACD,CACE,QACE,2EACF,SACE,2EACF,YAAa,uBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,kBACd,EACD,CACE,QACE,6EACF,SACE,6EACF,YAAa,sBACd,CACH,EAEMC,EAAc,SAAS,cAAc,UAAU,EAG/CC,EAAgBF,EAAO,IAAIG,GAAW,CAC1C,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EACxC,MAAMC,EAAU,SAAS,cAAc,GAAG,EAC1CA,EAAQ,UAAU,IAAI,cAAc,EACpCA,EAAQ,KAAOF,EAAQ,SACvB,MAAMG,EAAW,SAAS,cAAc,KAAK,EAC7C,OAAAA,EAAS,IAAMH,EAAQ,YACvBG,EAAS,IAAMH,EAAQ,QACvBG,EAAS,MAAQ,MACjBA,EAAS,OAAS,MAClBA,EAAS,UAAU,IAAI,eAAe,EACtCD,EAAQ,YAAYC,CAAQ,EAC5BF,EAAY,YAAYC,CAAO,EACxBD,CACT,CAAC,EAEDH,EAAY,OAAO,GAAGC,CAAa,EAGnC,IAAIK,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,GAAG,sBAAuB,UAAY,CAC5C,IAAIE,EAAW,EACf,MAAMC,EAAc,GAGdC,EAAe,YAAY,IAAM,CACrC,IAAIC,EAAU,SAAS,cAAc,aAAa,EAClDH,IAEIG,GACFA,EAAQ,UAAU,IAAI,eAAe,EACrC,cAAcD,CAAY,GACjBF,GAAYC,IACrB,QAAQ,IAAI,sBAAsB,EAClC,cAAcC,CAAY,GAG5B,MAAME,EAAaN,EAAQ,aAE3B,GAAIM,EAAY,CACd,IAAIC,EAAe,SAAS,cAAc,WAAW,EACrD,GAAIA,EAAc,CAChB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,UAAU,IAAI,cAAc,EACtCA,EAAU,YACRR,EAAQ,SAASA,EAAQ,iBAAiB,EAAE,WAAW,CAAC,EAAE,IAC5DO,EAAa,YAAYC,CAAS,EAClC,MAAMC,EAAkB,YAAY,IAAM,CACpCH,EAAW,MAAM,UAAY,MAC/B,cAAcG,CAAe,EAC7B,WAAW,IAAM,CACfD,EAAU,MAAM,QAAU,CAC3B,EAAE,GAAG,EAET,EAAE,EAAE,CACN,CACF,CACF,EAlCgB,EAkCN,CACb,CAAC,EAEDR,EAAQ,GAAG,yBAA0B,UAAY,CAC/C,MAAMU,EAAW,SAAS,cAAc,WAAW,EAEnD,GADmBV,EAAQ,aACX,CACd,MAAMQ,EAAY,SAAS,cAAc,eAAe,EACxDA,EAAU,MAAM,QAAU,EAE1BA,EAAU,YACRR,EAAQ,SAASA,EAAQ,iBAAiB,EAAE,WAAW,CAAC,EAAE,IAC5D,MAAMS,EAAkB,YAAY,IAAM,CACpCC,GAAYA,EAAS,MAAM,UAAY,MACzC,cAAcD,CAAe,EAC7B,WAAW,IAAM,CACfD,EAAU,MAAM,QAAU,CAC3B,EAAE,GAAG,EAET,EAAE,EAAE,CACN,CACH,CAAC,EAEDR,EAAQ,GAAG,uBAAwB,SAAU,EAAG,CAC9C,QAAQ,IAAI,CAAC,CACf,CAAC"}